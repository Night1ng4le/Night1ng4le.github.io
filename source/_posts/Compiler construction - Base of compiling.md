---
title: Compiler construction - Base of Compiling
categories: [Compiler]
tags: [Theroy & Practice]
---


### 文法与语言
语言是在基本符号集上按照一定规则构成的符号串的集合
- 字母表：非空有穷集合
- 符号串：字母表中符号构成的有穷序列
- 符号串的长度：串中符号的个数
- 空串
- 连接：就是简单拼接
- 方幂：符号串a自身连接n次得到的新符号串
`非空串和空串的连接，就是非空串本身`
- 符号串集合的乘积

<!--more-->

### 文法和语言的形式化
- 文法包括：非终结符集，终结符集，开始符号S，产生式集
- 大写字母非终结符，小写字母终结符（尖括号括起来非终结符，不用尖括号终结符）
- 约定第一条文法的左部是开始符号
- 如果x是从S推导出来的，即S=>x，此时x称为文法G的句型；若x中只有终结符，则x称为文法G的句子

### 文法的类型
Chomsky文法的分类
- 0型文法：**递归可枚举语言**，可以被图灵机识别
- 1型文法：**上下文有关文法（CSG）**，可由线性限界自动机识别，只有上下文满足一定条件时，非终结符才能替换为终结符
- 2型文法：**上下文无关文法（CFG）**，所有的非终结符推导为终结符的过程都不需要依赖上下文，可由下推自动机识别
- 3型文法：分为右线型正规文法和左线型正规文法
```
A->aB, A->a  右线型正规文法
A->Ba, A->a  左线型正规文法  
```
`文法中既含有左线型正规文法，又含有右线型正规文法，则不一定是3型文法 `

### 上下文无关文法及其语法树
给定文法的任意句型，都可以构造出与之关联的语法树
#### 语法树
 - 条件
 	- 每个节点都有一个符号做标记（非终结符/终结符）
 	- 根的标记是开始符号S
 	- 一个节点至少有一个除了自己之外的子孙，且n有对应的标记A，则A为非终结符
	- 直接父子关系决定产生式
- 注：
	- 语法树🌲表示推导过程中使用的产生式，但不决定推导顺序
	- 推导顺序：最左推导和最右推导，其中最右推导称为规范推导
	- 同一个句子对应不同的语法树称为文法的二义性

#### 句型分析
句型分析：识别一个输入的符号串是否为语法上正确的程序🙆
 - 常见的分析方法:
 	- 自顶向下（自上而下）：从S开始，反复使用各种产生式，寻找`匹配`的符号串的推导过程，尝试`最左推导`
 	- 自底向上（自下而上）：从输入符号串开始，逐步进行`规约`，直至S
`注：`规约是推导的逆过程
- 短语、直接短语、句柄
	- 短语：一个句型的语法树中任一子树叶结点所组成的符号串都是该句型的短语
	- 直接短语：子树中不再包含其他的子树，即A只能推导出b，而b不能再推出其他的式子，则b为此句型的直接短语
	- 句柄：直接短语中的最左直接短语为该句型的句柄，语法树的最左子树









